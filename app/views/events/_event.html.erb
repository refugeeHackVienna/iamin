<%= link_to event, class: 'list-group-item' do %>
  <div class="row">
    <div class="col-xs-3 col-sm-1 text-left">
      <%= render 'calendar_icon', date: event.starts_at %>
    </div>
    <div class="col-xs-6 col-sm-9">
      <% shifts = show_available?(params) ? event.available_shifts : event.shifts %>
      <%= shifts.first.starts_at.to_s(:time) %> - 
      <%= shifts.first.ends_at.to_s(:time) %>

      <% if shifts.size > 1 %>
          , <%= shifts.second.starts_at.to_s(:time) %> - 
          <%= shifts.second.ends_at.to_s(:time) %>
      <% end %>      

      <% further_events_count = shifts.group_by{|shift| shift.starts_at.to_date}.first.second.count - 2 %> 
      <%= ", " + further_events_count.to_s + " weitere "  if further_events_count > 0 %></br>

      <strong><%= event.title %></strong><br>
      <span><%= event.approximate_address.present? ? event.approximate_address : event.address %></span>
      <span>â€“</span>
      <span><%= event.ngo.name %></span>
    </div>
    <div class="col-xs-3 col-sm-2">
      <%= render event.progress_bar(current_user, params[:filter]) %>
    </div>
  </div>
<% end %>
